# ════════════════════════════════════════════════════════════════
# Environment Configuration for Wellknown PocketBase
# ════════════════════════════════════════════════════════════════
#
# Usage:
#   Development:  Copy to .env and fill in values
#   Production:   Use 'make fly-secrets' to sync to Fly.io
#
# ════════════════════════════════════════════════════════════════

# ----------------------------------------------------------------
# Server Configuration (OPTIONAL - has defaults)
# ----------------------------------------------------------------
# SERVER_HOST=127.0.0.1          # Default: 127.0.0.1 (dev), 0.0.0.0 (prod)
# SERVER_PORT=8090                # Default: 8090
# PB_DATA_DIR=.data/pb           # Default: .data/pb

# ----------------------------------------------------------------
# PocketBase Admin (OPTIONAL - can be set via UI)
# ----------------------------------------------------------------
PB_ADMIN_EMAIL=admin@example.com
PB_ADMIN_PASSWORD=your-secure-password

# ----------------------------------------------------------------
# Google OAuth (REQUIRED for Google login)
# ----------------------------------------------------------------
# Get credentials from: https://console.cloud.google.com/apis/credentials
# See: pb/GCP_SETUP.md
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret
GOOGLE_REDIRECT_URL=http://localhost:8090/auth/google/callback

# ----------------------------------------------------------------
# Apple OAuth (OPTIONAL - for Apple Sign In)
# ----------------------------------------------------------------
# Get credentials from: https://developer.apple.com/account
# See: pb/APPLE_SETUP.md
# Note: Requires paid Apple Developer Account ($99/year)
#
# IMPORTANT: For production (Fly.io), use APPLE_PRIVATE_KEY (inline content)
#            For development, you can use APPLE_PRIVATE_KEY_PATH (file path)
APPLE_TEAM_ID=your-team-id
APPLE_CLIENT_ID=com.your-domain.app.web
APPLE_KEY_ID=your-key-id
APPLE_PRIVATE_KEY_PATH=./secrets/AuthKey_XXXXXXXXXX.p8
# APPLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIGT...content...\n-----END PRIVATE KEY-----"
APPLE_REDIRECT_URL=http://localhost:8090/auth/apple/callback

# ----------------------------------------------------------------
# SMTP Configuration (OPTIONAL - for email features)
# ----------------------------------------------------------------
# Used by migrations for email settings
# If not set, email features will be disabled
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM_EMAIL=noreply@yourdomain.com
# SMTP_FROM_NAME=Your App Name

# ----------------------------------------------------------------
# S3/Backups Configuration (OPTIONAL - for cloud backups)
# ----------------------------------------------------------------
# Used by migrations for S3 backup configuration
# If not set, backups will be local only
# S3_ENDPOINT=s3.amazonaws.com
# S3_REGION=us-east-1
# S3_BUCKET=your-bucket-name
# S3_ACCESS_KEY=your-access-key
# S3_SECRET_KEY=your-secret-key
# S3_FORCE_PATH_STYLE=false

# ----------------------------------------------------------------
# AI Configuration (OPTIONAL - for Claude API integration)
# ----------------------------------------------------------------
# The pkg/ai package provides Claude API integration for AI-powered features.
#
# API Key Mode (RECOMMENDED - Default):
#   - Use a single Anthropic API key (simpler, works out of the box)
#   - Get your key from: https://console.anthropic.com/
#   - Set AI_USE_OAUTH=false (or omit, false is default)
ANTHROPIC_API_KEY=sk-ant-api03-your-key-here
# ANTHROPIC_MODEL=claude-sonnet-4-5-20250929  # Optional: model selection (has default)
#
# OAuth Mode (FUTURE/ADVANCED - NOT IMPLEMENTED YET):
#   - Would store per-user Anthropic OAuth tokens in 'anthropic_tokens' collection
#   - More secure than shared API keys, each user has their own usage
#   - Requires separate Anthropic OAuth setup (not Google OAuth)
#   # AI_USE_OAUTH=true
#
# Note: This is separate from Google OAuth (which is for user login + Google Calendar).
# For more info: See pkg/ai/client.go and pkg/ai/tokens.go

# ----------------------------------------------------------------
# MCP Configuration (for Claude Desktop integration)
# ----------------------------------------------------------------
# The pkg/pbmcp package provides Model Context Protocol (MCP) server
# that allows Claude Desktop to query/modify your PocketBase database.
#
# MCP runs as a SEPARATE service: make mcp
# Configuration is done in Claude Desktop config.json, NOT in .env
#
# Example Claude Desktop config (~/.config/claude/claude_desktop_config.json):
# {
#   "mcpServers": {
#     "pocketbase": {
#       "command": "/full/path/to/wellknown-pb",
#       "args": ["mcp"],
#       "env": {
#         "PB_DATA": "/full/path/to/.data/pb"
#       }
#     }
#   }
# }
#
# For detailed setup: See MCP_INTEGRATION.md
#
# Note: MCP and AI are COMPLEMENTARY systems:
#   - MCP: Claude Desktop → Your PocketBase (query/modify database)
#   - AI:  Your PocketBase → Claude API (AI-powered features)
